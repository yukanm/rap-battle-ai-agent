---
description: 
globs: 
alwaysApply: true
---
# Cursor Global Rule

## 目的
このルールは、エージェントが開発作業を進める際に遵守すべきグローバルな指針を定めるものです。

## タスク管理
- エージェントは、作業開始前に必ず現在のソースコードを精査し、全体像と影響範囲を把握してください。
- Mastraを採用しているため、Mastra MCPを呼び出し必ず最新ドキュメントを見て実装すること
- 作業を開始する際は、`tasks-xxxx.md` 形式のタスクファイルを新規作成し、作業内容・目的・背景を明記してください。
- xxxx部分は適切な名前をつけてください。
- タスクファイルは、/docs/tasksの中につくってください。
- 作業の進捗や決定事項、修正内容は、必ずタスクファイルに逐次アップデートし、履歴を残してください。
- タスクファイルは、作業が完了するまで一貫して利用し、最終的な成果物・振り返りも記載してください。

## フロントエンド実装確認ルール（必須）
- フロントエンドのコード変更を行った場合、**必ず** Playwright MCPを使用して視覚的に確認すること。
- コード変更が正しく適用され、意図した通りに表示・動作するか必ず確認すること。
- 確認するポイント：
  1. 実際にアプリケーションを起動し、正しいURL（ポート番号含む）で確認する
  2. コンポーネントが正しく表示されているか確認する
  3. ユーザー操作（クリック、入力など）が適切に機能するか確認する
  4. ライトモード/ダークモード両方で確認する
  5. レスポンシブ対応が必要な場合は複数の画面サイズで確認する
- 確認結果をタスクファイルに必ず記録し、スクリーンショットがあれば添付する。
- 確認せずにタスクを終了することは厳禁とする。
- 予期しない動作や表示の問題が見つかった場合は、必ず修正してから完了とすること。

## 修正方針
- 既存のデザインやUI/UXを壊さないこと。
- 無駄な機能追加や不要なコードの挿入は厳禁。
- 他のモジュールやシステム全体に影響を与えないよう、必要最小限の修正に留めてください。
- 影響範囲が広がる場合は、必ず事前に関係者と相談し、合意を得てから着手してください。

## 遵守事項
- 本ルールは全ての開発タスクにグローバルに適用されます。
- ルール違反が発覚した場合は、速やかに是正し、再発防止策をタスクファイルに記載してください。

## Technology Stack (MANDATORY)

